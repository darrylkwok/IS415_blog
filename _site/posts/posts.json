[
  {
    "path": "posts/2021-09-06-in-class-exercise-4/",
    "title": "In-Class Exercise 4",
    "description": "A short description of the post.",
    "author": [
      {
        "name": "Darryl Kwok",
        "url": "https://example.com/darrylkwok"
      }
    ],
    "date": "2021-09-06",
    "categories": [],
    "contents": "\r\nImporting and Installing all required Packages\r\nsf is mainly for importing geospatial data\r\nraster is for handling raster-based geospatial data\r\n\r\n\r\n\r\nImporting Geospatial Data\r\n\r\nReading layer `CostalOutline' from data source \r\n  `C:\\darrylkwok\\IS415_blog\\_posts\\2021-09-06-in-class-exercise-4\\data\\shapefile' \r\n  using driver `ESRI Shapefile'\r\nSimple feature collection with 60 features and 4 fields\r\nGeometry type: POLYGON\r\nDimension:     XY\r\nBounding box:  xmin: 2663.926 ymin: 16357.98 xmax: 56047.79 ymax: 50244.03\r\nProjected CRS: SVY21\r\nReading layer `MP14_SUBZONE_WEB_PL' from data source \r\n  `C:\\darrylkwok\\IS415_blog\\_posts\\2021-09-06-in-class-exercise-4\\data\\shapefile' \r\n  using driver `ESRI Shapefile'\r\nSimple feature collection with 323 features and 15 fields\r\nGeometry type: MULTIPOLYGON\r\nDimension:     XY\r\nBounding box:  xmin: 2667.538 ymin: 15748.72 xmax: 56396.44 ymax: 50256.33\r\nProjected CRS: SVY21\r\n\r\nImporting Aspatial Data\r\nThis childcare.rds is retreived from the OneMap API. However, the childcare data in hands-on exercise 4 is retrieved from data.gov.sg and the data format is in geojson format. Compare the differences and you will realise that geojson truncates the data and made the data hard to interpret.\r\n\r\n\r\n\r\nConverting from aspatial to geospatial\r\nSet crs to 3414 based on Singaporeâ€™s National Projection System\r\n\r\n\r\n\r\nSince we are using Longtitude and Latitude, the correct crs is 4326. Therefore after calling the st_as_sf() function, we perform a mathematical transformation by using st_transform() to transform the geometrical properties to 3414 projection\r\n\r\n\r\n\r\nGeospatial Data Wrangling\r\nConverting from sf to Spatial Classes\r\n\r\n\r\n\r\nConverting from Spatial classes to sp format\r\nThis will remove all the other columns, and only keep the geometric features and projection\r\n\r\n\r\n\r\nConverting from sp to spatstat ppp format\r\nAfter you convert it to ppp format, you will lose the projections, so if you convert to raster, you need to define the projections\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": {},
    "last_modified": "2021-09-06T11:27:54+08:00",
    "input_file": "in-class-exercise-4.knit.md"
  },
  {
    "path": "posts/2021-08-30-hands-on-exercise-2/",
    "title": "Hands-on Exercise 2",
    "description": "A short description of the post.",
    "author": [
      {
        "name": "Darryl Kwok",
        "url": "https://example.com/darrylkwok"
      }
    ],
    "date": "2021-08-30",
    "categories": [],
    "contents": "\r\n\r\n\r\npackages <- c('sf', 'tidyverse')\r\nfor(p in packages) {\r\n  if(!require(p, character.only = T)) {\r\n    install.packages(p)\r\n  }\r\n  library(p, character.only = T)\r\n}\r\n\r\n\r\n\r\n\r\nReading layer `MP14_SUBZONE_WEB_PL' from data source \r\n  `C:\\darrylkwok\\IS415_blog\\_posts\\2021-08-30-hands-on-exercise-2\\data\\geospatial' \r\n  using driver `ESRI Shapefile'\r\nSimple feature collection with 323 features and 15 fields\r\nGeometry type: MULTIPOLYGON\r\nDimension:     XY\r\nBounding box:  xmin: 2667.538 ymin: 15748.72 xmax: 56396.44 ymax: 50256.33\r\nProjected CRS: SVY21\r\nReading layer `CyclingPath' from data source \r\n  `C:\\darrylkwok\\IS415_blog\\_posts\\2021-08-30-hands-on-exercise-2\\data\\geospatial' \r\n  using driver `ESRI Shapefile'\r\nSimple feature collection with 3336 features and 2 fields\r\nGeometry type: MULTILINESTRING\r\nDimension:     XY\r\nBounding box:  xmin: 12831.45 ymin: 28347.98 xmax: 42799.89 ymax: 48948.15\r\nProjected CRS: SVY21\r\nReading layer `PRESCHOOLS_LOCATION' from data source \r\n  `C:\\darrylkwok\\IS415_blog\\_posts\\2021-08-30-hands-on-exercise-2\\data\\geospatial\\pre-schools-location-kml.kml' \r\n  using driver `KML'\r\nSimple feature collection with 1925 features and 2 fields\r\nGeometry type: POINT\r\nDimension:     XYZ\r\nBounding box:  xmin: 103.6824 ymin: 1.247759 xmax: 103.9897 ymax: 1.462134\r\nz_range:       zmin: 0 zmax: 0\r\nGeodetic CRS:  WGS 84\r\nGeometry set for 323 features \r\nGeometry type: MULTIPOLYGON\r\nDimension:     XY\r\nBounding box:  xmin: 2667.538 ymin: 15748.72 xmax: 56396.44 ymax: 50256.33\r\nProjected CRS: SVY21\r\nFirst 5 geometries:\r\nGeometry set for 3336 features \r\nGeometry type: MULTILINESTRING\r\nDimension:     XY\r\nBounding box:  xmin: 12831.45 ymin: 28347.98 xmax: 42799.89 ymax: 48948.15\r\nProjected CRS: SVY21\r\nFirst 5 geometries:\r\nGeometry set for 1925 features \r\nGeometry type: POINT\r\nDimension:     XYZ\r\nBounding box:  xmin: 103.6824 ymin: 1.247759 xmax: 103.9897 ymax: 1.462134\r\nz_range:       zmin: 0 zmax: 0\r\nGeodetic CRS:  WGS 84\r\nFirst 5 geometries:\r\nRows: 323\r\nColumns: 16\r\n$ OBJECTID   <int> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15~\r\n$ SUBZONE_NO <int> 1, 1, 3, 8, 3, 7, 9, 2, 13, 7, 12, 6, 1, 5, 1, 1,~\r\n$ SUBZONE_N  <chr> \"MARINA SOUTH\", \"PEARL'S HILL\", \"BOAT QUAY\", \"HEN~\r\n$ SUBZONE_C  <chr> \"MSSZ01\", \"OTSZ01\", \"SRSZ03\", \"BMSZ08\", \"BMSZ03\",~\r\n$ CA_IND     <chr> \"Y\", \"Y\", \"Y\", \"N\", \"N\", \"N\", \"N\", \"Y\", \"N\", \"N\",~\r\n$ PLN_AREA_N <chr> \"MARINA SOUTH\", \"OUTRAM\", \"SINGAPORE RIVER\", \"BUK~\r\n$ PLN_AREA_C <chr> \"MS\", \"OT\", \"SR\", \"BM\", \"BM\", \"BM\", \"BM\", \"SR\", \"~\r\n$ REGION_N   <chr> \"CENTRAL REGION\", \"CENTRAL REGION\", \"CENTRAL REGI~\r\n$ REGION_C   <chr> \"CR\", \"CR\", \"CR\", \"CR\", \"CR\", \"CR\", \"CR\", \"CR\", \"~\r\n$ INC_CRC    <chr> \"5ED7EB253F99252E\", \"8C7149B9EB32EEFC\", \"C35FEFF0~\r\n$ FMEL_UPD_D <date> 2014-12-05, 2014-12-05, 2014-12-05, 2014-12-05, ~\r\n$ X_ADDR     <dbl> 31595.84, 28679.06, 29654.96, 26782.83, 26201.96,~\r\n$ Y_ADDR     <dbl> 29220.19, 29782.05, 29974.66, 29933.77, 30005.70,~\r\n$ SHAPE_Leng <dbl> 5267.381, 3506.107, 1740.926, 3313.625, 2825.594,~\r\n$ SHAPE_Area <dbl> 1630379.3, 559816.2, 160807.5, 595428.9, 387429.4~\r\n$ geometry   <MULTIPOLYGON [m]> MULTIPOLYGON (((31495.56 30..., MULT~\r\nSimple feature collection with 5 features and 15 fields\r\nGeometry type: MULTIPOLYGON\r\nDimension:     XY\r\nBounding box:  xmin: 25867.68 ymin: 28369.47 xmax: 32362.39 ymax: 30435.54\r\nProjected CRS: SVY21\r\n  OBJECTID SUBZONE_NO      SUBZONE_N SUBZONE_C CA_IND      PLN_AREA_N\r\n1        1          1   MARINA SOUTH    MSSZ01      Y    MARINA SOUTH\r\n2        2          1   PEARL'S HILL    OTSZ01      Y          OUTRAM\r\n3        3          3      BOAT QUAY    SRSZ03      Y SINGAPORE RIVER\r\n4        4          8 HENDERSON HILL    BMSZ08      N     BUKIT MERAH\r\n5        5          3        REDHILL    BMSZ03      N     BUKIT MERAH\r\n  PLN_AREA_C       REGION_N REGION_C          INC_CRC FMEL_UPD_D\r\n1         MS CENTRAL REGION       CR 5ED7EB253F99252E 2014-12-05\r\n2         OT CENTRAL REGION       CR 8C7149B9EB32EEFC 2014-12-05\r\n3         SR CENTRAL REGION       CR C35FEFF02B13E0E5 2014-12-05\r\n4         BM CENTRAL REGION       CR 3775D82C5DDBEFBD 2014-12-05\r\n5         BM CENTRAL REGION       CR 85D9ABEF0A40678F 2014-12-05\r\n    X_ADDR   Y_ADDR SHAPE_Leng SHAPE_Area\r\n1 31595.84 29220.19   5267.381  1630379.3\r\n2 28679.06 29782.05   3506.107   559816.2\r\n3 29654.96 29974.66   1740.926   160807.5\r\n4 26782.83 29933.77   3313.625   595428.9\r\n5 26201.96 30005.70   2825.594   387429.4\r\n                        geometry\r\n1 MULTIPOLYGON (((31495.56 30...\r\n2 MULTIPOLYGON (((29092.28 30...\r\n3 MULTIPOLYGON (((29932.33 29...\r\n4 MULTIPOLYGON (((27131.28 30...\r\n5 MULTIPOLYGON (((26451.03 30...\r\n\r\nCoordinate Reference System:\r\n  User input: SVY21 \r\n  wkt:\r\nPROJCRS[\"SVY21\",\r\n    BASEGEOGCRS[\"SVY21[WGS84]\",\r\n        DATUM[\"World Geodetic System 1984\",\r\n            ELLIPSOID[\"WGS 84\",6378137,298.257223563,\r\n                LENGTHUNIT[\"metre\",1]],\r\n            ID[\"EPSG\",6326]],\r\n        PRIMEM[\"Greenwich\",0,\r\n            ANGLEUNIT[\"Degree\",0.0174532925199433]]],\r\n    CONVERSION[\"unnamed\",\r\n        METHOD[\"Transverse Mercator\",\r\n            ID[\"EPSG\",9807]],\r\n        PARAMETER[\"Latitude of natural origin\",1.36666666666667,\r\n            ANGLEUNIT[\"Degree\",0.0174532925199433],\r\n            ID[\"EPSG\",8801]],\r\n        PARAMETER[\"Longitude of natural origin\",103.833333333333,\r\n            ANGLEUNIT[\"Degree\",0.0174532925199433],\r\n            ID[\"EPSG\",8802]],\r\n        PARAMETER[\"Scale factor at natural origin\",1,\r\n            SCALEUNIT[\"unity\",1],\r\n            ID[\"EPSG\",8805]],\r\n        PARAMETER[\"False easting\",28001.642,\r\n            LENGTHUNIT[\"metre\",1],\r\n            ID[\"EPSG\",8806]],\r\n        PARAMETER[\"False northing\",38744.572,\r\n            LENGTHUNIT[\"metre\",1],\r\n            ID[\"EPSG\",8807]]],\r\n    CS[Cartesian,2],\r\n        AXIS[\"(E)\",east,\r\n            ORDER[1],\r\n            LENGTHUNIT[\"metre\",1,\r\n                ID[\"EPSG\",9001]]],\r\n        AXIS[\"(N)\",north,\r\n            ORDER[2],\r\n            LENGTHUNIT[\"metre\",1,\r\n                ID[\"EPSG\",9001]]]]\r\nCoordinate Reference System:\r\n  User input: EPSG:3414 \r\n  wkt:\r\nPROJCRS[\"SVY21 / Singapore TM\",\r\n    BASEGEOGCRS[\"SVY21\",\r\n        DATUM[\"SVY21\",\r\n            ELLIPSOID[\"WGS 84\",6378137,298.257223563,\r\n                LENGTHUNIT[\"metre\",1]]],\r\n        PRIMEM[\"Greenwich\",0,\r\n            ANGLEUNIT[\"degree\",0.0174532925199433]],\r\n        ID[\"EPSG\",4757]],\r\n    CONVERSION[\"Singapore Transverse Mercator\",\r\n        METHOD[\"Transverse Mercator\",\r\n            ID[\"EPSG\",9807]],\r\n        PARAMETER[\"Latitude of natural origin\",1.36666666666667,\r\n            ANGLEUNIT[\"degree\",0.0174532925199433],\r\n            ID[\"EPSG\",8801]],\r\n        PARAMETER[\"Longitude of natural origin\",103.833333333333,\r\n            ANGLEUNIT[\"degree\",0.0174532925199433],\r\n            ID[\"EPSG\",8802]],\r\n        PARAMETER[\"Scale factor at natural origin\",1,\r\n            SCALEUNIT[\"unity\",1],\r\n            ID[\"EPSG\",8805]],\r\n        PARAMETER[\"False easting\",28001.642,\r\n            LENGTHUNIT[\"metre\",1],\r\n            ID[\"EPSG\",8806]],\r\n        PARAMETER[\"False northing\",38744.572,\r\n            LENGTHUNIT[\"metre\",1],\r\n            ID[\"EPSG\",8807]]],\r\n    CS[Cartesian,2],\r\n        AXIS[\"northing (N)\",north,\r\n            ORDER[1],\r\n            LENGTHUNIT[\"metre\",1]],\r\n        AXIS[\"easting (E)\",east,\r\n            ORDER[2],\r\n            LENGTHUNIT[\"metre\",1]],\r\n    USAGE[\r\n        SCOPE[\"Cadastre, engineering survey, topographic mapping.\"],\r\n        AREA[\"Singapore - onshore and offshore.\"],\r\n        BBOX[1.13,103.59,1.47,104.07]],\r\n    ID[\"EPSG\",3414]]\r\nGeometry set for 1925 features \r\nGeometry type: POINT\r\nDimension:     XYZ\r\nBounding box:  xmin: 11203.01 ymin: 25596.33 xmax: 45404.24 ymax: 49300.88\r\nz_range:       zmin: 0 zmax: 0\r\nProjected CRS: SVY21 / Singapore TM\r\nFirst 5 geometries:\r\nRows: 4,252\r\nColumns: 16\r\n$ id                             <dbl> 50646, 71609, 71896, 71903, 2~\r\n$ name                           <chr> \"Pleasant Room along Bukit Ti~\r\n$ host_id                        <dbl> 227796, 367042, 367042, 36704~\r\n$ host_name                      <chr> \"Sujatha\", \"Belinda\", \"Belind~\r\n$ neighbourhood_group            <chr> \"Central Region\", \"East Regio~\r\n$ neighbourhood                  <chr> \"Bukit Timah\", \"Tampines\", \"T~\r\n$ latitude                       <dbl> 1.33432, 1.34537, 1.34754, 1.~\r\n$ longitude                      <dbl> 103.7852, 103.9589, 103.9596,~\r\n$ room_type                      <chr> \"Private room\", \"Private room~\r\n$ price                          <dbl> 80, 178, 81, 81, 52, 40, 72, ~\r\n$ minimum_nights                 <dbl> 90, 90, 90, 90, 14, 14, 90, 8~\r\n$ number_of_reviews              <dbl> 18, 20, 24, 48, 20, 13, 133, ~\r\n$ last_review                    <date> 2014-07-08, 2019-12-28, 2014~\r\n$ reviews_per_month              <dbl> 0.22, 0.28, 0.33, 0.67, 0.20,~\r\n$ calculated_host_listings_count <dbl> 1, 4, 4, 4, 50, 50, 7, 1, 50,~\r\n$ availability_365               <dbl> 365, 365, 365, 365, 353, 364,~\r\nRows: 4,252\r\nColumns: 15\r\n$ id                             <dbl> 50646, 71609, 71896, 71903, 2~\r\n$ name                           <chr> \"Pleasant Room along Bukit Ti~\r\n$ host_id                        <dbl> 227796, 367042, 367042, 36704~\r\n$ host_name                      <chr> \"Sujatha\", \"Belinda\", \"Belind~\r\n$ neighbourhood_group            <chr> \"Central Region\", \"East Regio~\r\n$ neighbourhood                  <chr> \"Bukit Timah\", \"Tampines\", \"T~\r\n$ room_type                      <chr> \"Private room\", \"Private room~\r\n$ price                          <dbl> 80, 178, 81, 81, 52, 40, 72, ~\r\n$ minimum_nights                 <dbl> 90, 90, 90, 90, 14, 14, 90, 8~\r\n$ number_of_reviews              <dbl> 18, 20, 24, 48, 20, 13, 133, ~\r\n$ last_review                    <date> 2014-07-08, 2019-12-28, 2014~\r\n$ reviews_per_month              <dbl> 0.22, 0.28, 0.33, 0.67, 0.20,~\r\n$ calculated_host_listings_count <dbl> 1, 4, 4, 4, 50, 50, 7, 1, 50,~\r\n$ availability_365               <dbl> 365, 365, 365, 365, 353, 364,~\r\n$ geometry                       <POINT [m]> POINT (22646.02 35167.9~\r\n1642750 [m^2]\r\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \r\n   0.00    0.00    3.00    5.96    9.00   58.00 \r\nSimple feature collection with 1 feature and 16 fields\r\nGeometry type: MULTIPOLYGON\r\nDimension:     XY\r\nBounding box:  xmin: 39655.33 ymin: 35966 xmax: 42940.57 ymax: 38622.37\r\nProjected CRS: SVY21 / Singapore TM\r\n  OBJECTID SUBZONE_NO     SUBZONE_N SUBZONE_C CA_IND PLN_AREA_N\r\n1      189          2 TAMPINES EAST    TMSZ02      N   TAMPINES\r\n  PLN_AREA_C    REGION_N REGION_C          INC_CRC FMEL_UPD_D\r\n1         TM EAST REGION       ER 21658EAAF84F4D8D 2014-12-05\r\n    X_ADDR   Y_ADDR SHAPE_Leng SHAPE_Area\r\n1 41122.55 37392.39   10180.62    4339824\r\n                        geometry PreSch Count\r\n1 MULTIPOLYGON (((42196.76 38...           58\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2021-08-30-hands-on-exercise-2/hands-on-exercise-2_files/figure-html5/unnamed-chunk-2-1.png",
    "last_modified": "2021-08-30T08:54:20+08:00",
    "input_file": "hands-on-exercise-2.knit.md"
  },
  {
    "path": "posts/2021-08-30-hands-on-exercise-3/",
    "title": "Hands-on Exercise 3",
    "description": "A short description of the post.",
    "author": [
      {
        "name": "Darryl Kwok",
        "url": "https://example.com/darrylkwok"
      }
    ],
    "date": "2021-08-30",
    "categories": [],
    "contents": "\r\nImport neccessary Packages\r\n\r\n\r\n\r\nRead MP14_SUBZONE_WEB_PL Shape File\r\n\r\n\r\nmpsz <- st_read(dsn = \"data/geospatial\", \r\n                layer = \"MP14_SUBZONE_WEB_PL\")\r\n\r\n\r\nReading layer `MP14_SUBZONE_WEB_PL' from data source \r\n  `C:\\darrylkwok\\IS415_blog\\_posts\\2021-08-30-hands-on-exercise-3\\data\\geospatial' \r\n  using driver `ESRI Shapefile'\r\nSimple feature collection with 323 features and 15 fields\r\nGeometry type: MULTIPOLYGON\r\nDimension:     XY\r\nBounding box:  xmin: 2667.538 ymin: 15748.72 xmax: 56396.44 ymax: 50256.33\r\nProjected CRS: SVY21\r\n\r\nDisplay the contents of mpsz read in\r\n\r\n\r\nmpsz\r\n\r\n\r\nSimple feature collection with 323 features and 15 fields\r\nGeometry type: MULTIPOLYGON\r\nDimension:     XY\r\nBounding box:  xmin: 2667.538 ymin: 15748.72 xmax: 56396.44 ymax: 50256.33\r\nProjected CRS: SVY21\r\nFirst 10 features:\r\n   OBJECTID SUBZONE_NO       SUBZONE_N SUBZONE_C CA_IND\r\n1         1          1    MARINA SOUTH    MSSZ01      Y\r\n2         2          1    PEARL'S HILL    OTSZ01      Y\r\n3         3          3       BOAT QUAY    SRSZ03      Y\r\n4         4          8  HENDERSON HILL    BMSZ08      N\r\n5         5          3         REDHILL    BMSZ03      N\r\n6         6          7  ALEXANDRA HILL    BMSZ07      N\r\n7         7          9   BUKIT HO SWEE    BMSZ09      N\r\n8         8          2     CLARKE QUAY    SRSZ02      Y\r\n9         9         13 PASIR PANJANG 1    QTSZ13      N\r\n10       10          7       QUEENSWAY    QTSZ07      N\r\n        PLN_AREA_N PLN_AREA_C       REGION_N REGION_C\r\n1     MARINA SOUTH         MS CENTRAL REGION       CR\r\n2           OUTRAM         OT CENTRAL REGION       CR\r\n3  SINGAPORE RIVER         SR CENTRAL REGION       CR\r\n4      BUKIT MERAH         BM CENTRAL REGION       CR\r\n5      BUKIT MERAH         BM CENTRAL REGION       CR\r\n6      BUKIT MERAH         BM CENTRAL REGION       CR\r\n7      BUKIT MERAH         BM CENTRAL REGION       CR\r\n8  SINGAPORE RIVER         SR CENTRAL REGION       CR\r\n9       QUEENSTOWN         QT CENTRAL REGION       CR\r\n10      QUEENSTOWN         QT CENTRAL REGION       CR\r\n            INC_CRC FMEL_UPD_D   X_ADDR   Y_ADDR SHAPE_Leng\r\n1  5ED7EB253F99252E 2014-12-05 31595.84 29220.19   5267.381\r\n2  8C7149B9EB32EEFC 2014-12-05 28679.06 29782.05   3506.107\r\n3  C35FEFF02B13E0E5 2014-12-05 29654.96 29974.66   1740.926\r\n4  3775D82C5DDBEFBD 2014-12-05 26782.83 29933.77   3313.625\r\n5  85D9ABEF0A40678F 2014-12-05 26201.96 30005.70   2825.594\r\n6  9D286521EF5E3B59 2014-12-05 25358.82 29991.38   4428.913\r\n7  7839A8577144EFE2 2014-12-05 27680.06 30230.86   3275.312\r\n8  48661DC0FBA09F7A 2014-12-05 29253.21 30222.86   2208.619\r\n9  1F721290C421BFAB 2014-12-05 22077.34 29893.78   6571.323\r\n10 3580D2AFFBEE914C 2014-12-05 24168.31 30104.18   3454.239\r\n   SHAPE_Area                       geometry\r\n1   1630379.3 MULTIPOLYGON (((31495.56 30...\r\n2    559816.2 MULTIPOLYGON (((29092.28 30...\r\n3    160807.5 MULTIPOLYGON (((29932.33 29...\r\n4    595428.9 MULTIPOLYGON (((27131.28 30...\r\n5    387429.4 MULTIPOLYGON (((26451.03 30...\r\n6   1030378.8 MULTIPOLYGON (((25899.7 297...\r\n7    551732.0 MULTIPOLYGON (((27746.95 30...\r\n8    290184.7 MULTIPOLYGON (((29351.26 29...\r\n9   1084792.3 MULTIPOLYGON (((20996.49 30...\r\n10   631644.3 MULTIPOLYGON (((24472.11 29...\r\n\r\nRead Singapore Residents by Planning Area/ Subzone, Age Group, Sex and Type of Dwelling csv file\r\n\r\n\r\npopdata <- read_csv(\"data/aspatial/respopagesextod2011to2020.csv\")\r\n\r\n\r\n\r\nDisplay the contents of popdata\r\n\r\n\r\npopdata\r\n\r\n\r\n# A tibble: 984,656 x 7\r\n   PA         SZ                     AG     Sex     TOD      Pop  Time\r\n   <chr>      <chr>                  <chr>  <chr>   <chr>  <dbl> <dbl>\r\n 1 Ang Mo Kio Ang Mo Kio Town Centre 0_to_4 Males   HDB 1~     0  2011\r\n 2 Ang Mo Kio Ang Mo Kio Town Centre 0_to_4 Males   HDB 3~    10  2011\r\n 3 Ang Mo Kio Ang Mo Kio Town Centre 0_to_4 Males   HDB 4~    30  2011\r\n 4 Ang Mo Kio Ang Mo Kio Town Centre 0_to_4 Males   HDB 5~    50  2011\r\n 5 Ang Mo Kio Ang Mo Kio Town Centre 0_to_4 Males   HUDC ~     0  2011\r\n 6 Ang Mo Kio Ang Mo Kio Town Centre 0_to_4 Males   Lande~     0  2011\r\n 7 Ang Mo Kio Ang Mo Kio Town Centre 0_to_4 Males   Condo~    40  2011\r\n 8 Ang Mo Kio Ang Mo Kio Town Centre 0_to_4 Males   Others     0  2011\r\n 9 Ang Mo Kio Ang Mo Kio Town Centre 0_to_4 Females HDB 1~     0  2011\r\n10 Ang Mo Kio Ang Mo Kio Town Centre 0_to_4 Females HDB 3~    10  2011\r\n# ... with 984,646 more rows\r\n\r\nData Wrangling\r\nCreate new columns such as YOUNG, ECONOMY ACTIVE, AGED, TOTAL AND DEPENDENCY\r\n\r\n\r\npopdata2020 <- popdata %>%\r\n  filter(Time == 2020) %>%\r\n  group_by(PA, SZ, AG) %>%\r\n  summarise(`POP` = sum(`Pop`)) %>%\r\n  ungroup() %>%\r\n  pivot_wider(names_from=AG,\r\n              values_from=POP) %>%\r\n  mutate(YOUNG = rowSums(.[3:6])\r\n         +rowSums(.[12])) %>%\r\n  mutate(`ECONOMY ACTIVE` = rowSums(.[7:11]) + rowSums(.[13:15])) %>%\r\n  mutate(`AGED` = rowSums(.[16:21])) %>%\r\n  mutate(`TOTAL` = rowSums(.[3:21])) %>%\r\n  mutate(`DEPENDENCY` = (`YOUNG` + `AGED`)/`ECONOMY ACTIVE`) %>%\r\n  select(`PA`, `SZ`, `YOUNG`, `ECONOMY ACTIVE`, `AGED`, `TOTAL`, `DEPENDENCY`)\r\n\r\npopdata2020\r\n\r\n\r\n# A tibble: 332 x 7\r\n   PA         SZ         YOUNG `ECONOMY ACTIVE`  AGED TOTAL DEPENDENCY\r\n   <chr>      <chr>      <dbl>            <dbl> <dbl> <dbl>      <dbl>\r\n 1 Ang Mo Kio Ang Mo Ki~  1290             2760   760  4810      0.743\r\n 2 Ang Mo Kio Cheng San   5640            16460  6050 28150      0.710\r\n 3 Ang Mo Kio Chong Boon  5100            15000  6470 26570      0.771\r\n 4 Ang Mo Kio Kebun Bah~  4620            13010  5120 22750      0.749\r\n 5 Ang Mo Kio Sembawang~  1880             3630  1310  6820      0.879\r\n 6 Ang Mo Kio Shangri-La  3330             9050  3610 15990      0.767\r\n 7 Ang Mo Kio Tagore      1940             4480  1530  7950      0.775\r\n 8 Ang Mo Kio Townsville  4190            11950  5100 21240      0.777\r\n 9 Ang Mo Kio Yio Chu K~     0                0     0     0    NaN    \r\n10 Ang Mo Kio Yio Chu K~  1110             2410   750  4270      0.772\r\n# ... with 322 more rows\r\n\r\nJoin 2 datasets together\r\nConvert values in popdata to uppercase\r\n\r\n\r\npopdata2020 <- popdata2020 %>%\r\n  mutate_at(.vars = vars(PA, SZ),\r\n            .funs = funs(toupper)) %>%\r\n  filter(`ECONOMY ACTIVE` > 0)\r\n\r\npopdata2020\r\n\r\n\r\n# A tibble: 234 x 7\r\n   PA         SZ         YOUNG `ECONOMY ACTIVE`  AGED TOTAL DEPENDENCY\r\n   <chr>      <chr>      <dbl>            <dbl> <dbl> <dbl>      <dbl>\r\n 1 ANG MO KIO ANG MO KI~  1290             2760   760  4810      0.743\r\n 2 ANG MO KIO CHENG SAN   5640            16460  6050 28150      0.710\r\n 3 ANG MO KIO CHONG BOON  5100            15000  6470 26570      0.771\r\n 4 ANG MO KIO KEBUN BAH~  4620            13010  5120 22750      0.749\r\n 5 ANG MO KIO SEMBAWANG~  1880             3630  1310  6820      0.879\r\n 6 ANG MO KIO SHANGRI-LA  3330             9050  3610 15990      0.767\r\n 7 ANG MO KIO TAGORE      1940             4480  1530  7950      0.775\r\n 8 ANG MO KIO TOWNSVILLE  4190            11950  5100 21240      0.777\r\n 9 ANG MO KIO YIO CHU K~  1110             2410   750  4270      0.772\r\n10 ANG MO KIO YIO CHU K~  5690            13750  4680 24120      0.754\r\n# ... with 224 more rows\r\n\r\nJoining Attribute Data and Geospatial Data\r\n\r\n\r\nmpsz_pop2020 <- left_join(mpsz, popdata2020, by = c(\"SUBZONE_N\" = \"SZ\"))\r\n\r\nmpsz_pop2020\r\n\r\n\r\nSimple feature collection with 323 features and 21 fields\r\nGeometry type: MULTIPOLYGON\r\nDimension:     XY\r\nBounding box:  xmin: 2667.538 ymin: 15748.72 xmax: 56396.44 ymax: 50256.33\r\nProjected CRS: SVY21\r\nFirst 10 features:\r\n   OBJECTID SUBZONE_NO       SUBZONE_N SUBZONE_C CA_IND\r\n1         1          1    MARINA SOUTH    MSSZ01      Y\r\n2         2          1    PEARL'S HILL    OTSZ01      Y\r\n3         3          3       BOAT QUAY    SRSZ03      Y\r\n4         4          8  HENDERSON HILL    BMSZ08      N\r\n5         5          3         REDHILL    BMSZ03      N\r\n6         6          7  ALEXANDRA HILL    BMSZ07      N\r\n7         7          9   BUKIT HO SWEE    BMSZ09      N\r\n8         8          2     CLARKE QUAY    SRSZ02      Y\r\n9         9         13 PASIR PANJANG 1    QTSZ13      N\r\n10       10          7       QUEENSWAY    QTSZ07      N\r\n        PLN_AREA_N PLN_AREA_C       REGION_N REGION_C\r\n1     MARINA SOUTH         MS CENTRAL REGION       CR\r\n2           OUTRAM         OT CENTRAL REGION       CR\r\n3  SINGAPORE RIVER         SR CENTRAL REGION       CR\r\n4      BUKIT MERAH         BM CENTRAL REGION       CR\r\n5      BUKIT MERAH         BM CENTRAL REGION       CR\r\n6      BUKIT MERAH         BM CENTRAL REGION       CR\r\n7      BUKIT MERAH         BM CENTRAL REGION       CR\r\n8  SINGAPORE RIVER         SR CENTRAL REGION       CR\r\n9       QUEENSTOWN         QT CENTRAL REGION       CR\r\n10      QUEENSTOWN         QT CENTRAL REGION       CR\r\n            INC_CRC FMEL_UPD_D   X_ADDR   Y_ADDR SHAPE_Leng\r\n1  5ED7EB253F99252E 2014-12-05 31595.84 29220.19   5267.381\r\n2  8C7149B9EB32EEFC 2014-12-05 28679.06 29782.05   3506.107\r\n3  C35FEFF02B13E0E5 2014-12-05 29654.96 29974.66   1740.926\r\n4  3775D82C5DDBEFBD 2014-12-05 26782.83 29933.77   3313.625\r\n5  85D9ABEF0A40678F 2014-12-05 26201.96 30005.70   2825.594\r\n6  9D286521EF5E3B59 2014-12-05 25358.82 29991.38   4428.913\r\n7  7839A8577144EFE2 2014-12-05 27680.06 30230.86   3275.312\r\n8  48661DC0FBA09F7A 2014-12-05 29253.21 30222.86   2208.619\r\n9  1F721290C421BFAB 2014-12-05 22077.34 29893.78   6571.323\r\n10 3580D2AFFBEE914C 2014-12-05 24168.31 30104.18   3454.239\r\n   SHAPE_Area              PA YOUNG ECONOMY ACTIVE AGED TOTAL\r\n1   1630379.3            <NA>    NA             NA   NA    NA\r\n2    559816.2          OUTRAM   930           3130 2120  6180\r\n3    160807.5 SINGAPORE RIVER     0             40   10    50\r\n4    595428.9     BUKIT MERAH  2600           7450 3320 13370\r\n5    387429.4     BUKIT MERAH  2760           6160 1740 10660\r\n6   1030378.8     BUKIT MERAH  2800           7340 3420 13560\r\n7    551732.0     BUKIT MERAH  2750           8080 3610 14440\r\n8    290184.7 SINGAPORE RIVER     0             50   10    60\r\n9   1084792.3      QUEENSTOWN  1120           2770  610  4500\r\n10   631644.3      QUEENSTOWN    30            160   60   250\r\n   DEPENDENCY                       geometry\r\n1          NA MULTIPOLYGON (((31495.56 30...\r\n2   0.9744409 MULTIPOLYGON (((29092.28 30...\r\n3   0.2500000 MULTIPOLYGON (((29932.33 29...\r\n4   0.7946309 MULTIPOLYGON (((27131.28 30...\r\n5   0.7305195 MULTIPOLYGON (((26451.03 30...\r\n6   0.8474114 MULTIPOLYGON (((25899.7 297...\r\n7   0.7871287 MULTIPOLYGON (((27746.95 30...\r\n8   0.2000000 MULTIPOLYGON (((29351.26 29...\r\n9   0.6245487 MULTIPOLYGON (((20996.49 30...\r\n10  0.5625000 MULTIPOLYGON (((24472.11 29...\r\n\r\nPlotting a choropleth map with qtm()\r\n\r\n\r\ntmap_mode(\"plot\")\r\nqtm(mpsz_pop2020, fill=\"DEPENDENCY\")\r\n\r\n\r\n\r\n\r\n##Plotting a choropleth map using tmapâ€™s elements\r\n\r\n\r\ntm_shape(mpsz_pop2020) +\r\n  tm_fill(\"DEPENDENCY\", style = \"quantile\", palette = \"Blues\", title = \"Dependency Ratio\") +\r\n  tm_layout(main.title = \"Distribution of Dependency Ratio by planning subzone\",\r\n            main.title.position = \"center\",\r\n            main.title.size=1.2,\r\n            legend.height=0.45,\r\n            legend.width=0.35,\r\n            frame=TRUE) +\r\n  tm_borders(alpha=0.5) +\r\n  tm_compass(type=\"8star\",size=2)+\r\n  tm_scale_bar() + \r\n  tm_grid(alpha=0.2)+\r\n  tm_credits(\"Source: Planning Sub-zone boundary from Urban Redevelopment Authorithy (URA)\\n and Population data from Department of Statistics DOS\", \r\n             position = c(\"left\", \"bottom\"))\r\n\r\n\r\n\r\n\r\nDrawing a Base Map\r\n\r\n\r\ntm_shape(mpsz_pop2020) + \r\n  tm_polygons()\r\n\r\n\r\n\r\n\r\nInclude parameters in tm_polygons()\r\n\r\n\r\ntm_shape(mpsz_pop2020) +\r\n  tm_polygons(\"DEPENDENCY\")\r\n\r\n\r\n\r\n\r\nUsing tm_fill() instead of tm_polygons()\r\n\r\n\r\ntm_shape(mpsz_pop2020) + \r\n  tm_fill(\"DEPENDENCY\")\r\n\r\n\r\n\r\n\r\nUsing tm_fill() and tm_borders()\r\n\r\n\r\ntm_shape(mpsz_pop2020) +\r\n  tm_fill(\"DEPENDENCY\") +\r\n  tm_borders(lwd=0.1, alpha = 1)\r\n\r\n\r\n\r\n\r\nUsing tm_fill() and tm_borders() for data classification that utilises 5 classes\r\n\r\n\r\ntm_shape(mpsz_pop2020) +\r\n  tm_fill(\"DEPENDENCY\", n=5, style=\"jenks\") +\r\n  tm_borders(alpha=0.5)\r\n\r\n\r\n\r\n\r\nUsing tm_fill() and tm_borders() for data classification that utilises equal classification\r\n\r\n\r\ntm_shape(mpsz_pop2020)+\r\n  tm_fill(\"DEPENDENCY\",\r\n          n = 5,\r\n          style = \"equal\") +\r\n  tm_borders(alpha = 0.5)\r\n\r\n\r\n\r\n\r\nGetting the summary info for dependency\r\n\r\n\r\nsummary(mpsz_pop2020$DEPENDENCY)\r\n\r\n\r\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's \r\n 0.0000  0.6519  0.7025  0.7742  0.7645 19.0000      92 \r\n\r\nPlotting Choropleth map with custom break after getting the summary info\r\n\r\n\r\ntm_shape(mpsz_pop2020) + \r\n  tm_fill(\"DEPENDENCY\", breaks = c(0, 0.60, 0.70, 0.80, 0.90, 1.00)) +\r\n  tm_borders(alpha = 0.5)\r\n\r\n\r\n\r\n\r\nColour Scheme for tmap\r\n\r\n\r\ntm_shape(mpsz_pop2020) +\r\n  tm_fill(\"DEPENDENCY\",\r\n          n=6,\r\n          style=\"quantile\",\r\n          palette= \"Blues\") +\r\n  tm_borders(alpha=0.5)\r\n\r\n\r\n\r\n\r\nReverse colour shading\r\n\r\n\r\ntm_shape(mpsz_pop2020) +\r\n  tm_fill(\"DEPENDENCY\",\r\n          style=\"quantile\",\r\n          palette=\"-Greens\") +\r\n  tm_borders(alpha=0.5)\r\n\r\n\r\n\r\n\r\nChange Map Style\r\n\r\n\r\ntm_shape(mpsz_pop2020)+\r\n  tm_fill(\"DEPENDENCY\", \r\n          style = \"quantile\", \r\n          palette = \"-Greens\") +\r\n  tm_borders(alpha = 0.5) +\r\n  tmap_style(\"classic\")\r\n\r\n\r\n\r\n\r\nUsing Compass, scale bar and grid lines for design\r\n\r\n\r\ntm_shape(mpsz_pop2020)+\r\n  tm_fill(\"DEPENDENCY\", \r\n          style = \"quantile\", \r\n          palette = \"Blues\",\r\n          title = \"No. of persons\") +\r\n  tm_layout(main.title = \"Distribution of Dependency Ratio \\nby planning subzone\",\r\n            main.title.position = \"center\",\r\n            main.title.size = 1.2,\r\n            legend.height = 0.45, \r\n            legend.width = 0.35,\r\n            frame = TRUE) +\r\n  tm_borders(alpha = 0.5) +\r\n  tm_compass(type=\"8star\", size = 2) +\r\n  tm_scale_bar(width = 0.15) +\r\n  tm_grid(lwd = 0.1, alpha = 0.2) +\r\n  tm_credits(\"Source: Planning Sub-zone boundary from Urban Redevelopment Authorithy (URA)\\n and Population data from Department of Statistics DOS\", \r\n             position = c(\"left\", \"bottom\"))\r\n\r\n\r\n\r\n\r\nDrawing Small Mutiple Choropleth Maps\r\nUsing tm_fill\r\n\r\n\r\ntm_shape(mpsz_pop2020)+\r\n  tm_fill(c(\"YOUNG\", \"AGED\"),\r\n          style = \"equal\", \r\n          palette = \"Blues\") +\r\n  tm_layout(legend.position = c(\"right\", \"bottom\")) +\r\n  tm_borders(alpha = 0.5) +\r\n  tmap_style(\"white\")\r\n\r\n\r\n\r\n\r\nUsing tm_polygons\r\n\r\n\r\ntm_shape(mpsz_pop2020)+ \r\n  tm_polygons(c(\"DEPENDENCY\",\"AGED\"),\r\n          style = c(\"equal\", \"quantile\"), \r\n          palette = list(\"Blues\",\"Greens\")) +\r\n  tm_layout(legend.position = c(\"right\", \"bottom\"))\r\n\r\n\r\n\r\n\r\nUsing tm_facets\r\n\r\n\r\ntm_shape(mpsz_pop2020) +\r\n  tm_fill(\"DEPENDENCY\",\r\n          style = \"quantile\",\r\n          palette = \"Blues\",\r\n          thres.poly = 0) + \r\n  tm_facets(by=\"REGION_N\", \r\n            free.coords=TRUE, \r\n            drop.shapes=TRUE) +\r\n  tm_layout(legend.show = FALSE,\r\n            title.position = c(\"center\", \"center\"), \r\n            title.size = 20) +\r\n  tm_borders(alpha = 0.5)\r\n\r\n\r\n\r\n\r\nUsing tmap_arrange()\r\n\r\n\r\nyoungmap <- tm_shape(mpsz_pop2020)+ \r\n  tm_polygons(\"YOUNG\", \r\n              style = \"quantile\", \r\n              palette = \"Blues\")\r\n\r\nagedmap <- tm_shape(mpsz_pop2020)+ \r\n  tm_polygons(\"AGED\", \r\n              style = \"quantile\", \r\n              palette = \"Blues\")\r\n\r\ntmap_arrange(youngmap, agedmap, asp=1, ncol=2)\r\n\r\n\r\n\r\n\r\nMapping Spatial Object that meets a criteria\r\n\r\n\r\ntm_shape(mpsz_pop2020[mpsz_pop2020$REGION_N==\"CENTRAL REGION\", ])+\r\n  tm_fill(\"DEPENDENCY\", \r\n          style = \"quantile\", \r\n          palette = \"Blues\", \r\n          legend.hist = TRUE, \r\n          legend.is.portrait = TRUE,\r\n          legend.hist.z = 0.1) +\r\n  tm_layout(legend.outside = TRUE,\r\n            legend.height = 0.45, \r\n            legend.width = 5.0,\r\n            legend.position = c(\"right\", \"bottom\"),\r\n            frame = FALSE) +\r\n  tm_borders(alpha = 0.5)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2021-08-30-hands-on-exercise-3/hands-on-exercise-3_files/figure-html5/unnamed-chunk-9-1.png",
    "last_modified": "2021-08-30T19:06:26+08:00",
    "input_file": "hands-on-exercise-3.knit.md"
  },
  {
    "path": "posts/2021-08-30-in-class-exercise-3/",
    "title": "In Class Exercise 3",
    "description": "A short description of the post.",
    "author": [
      {
        "name": "Darryl Kwok",
        "url": "https://example.com/darrylkwok"
      }
    ],
    "date": "2021-08-30",
    "categories": [],
    "contents": "\r\n\r\n\r\n\r\nRead the mpszpop2020 data\r\n\r\n\r\nmpszpop2020 <- read_rds(\"data/rds/mpszpop2020.rds\")\r\n\r\n\r\n\r\nDrop records with NA values\r\n\r\n\r\nmpszpop2020a <- mpszpop2020 %>%\r\n  drop_na()\r\n\r\n\r\n\r\nVisualising Extreme Values using Boxplots\r\n\r\n\r\nggplot(data=mpszpop2020, \r\n       aes(x = \"\", \r\n           y = AGED)) +\r\n  geom_boxplot()\r\n\r\n\r\n\r\n\r\nCreate get.var function\r\n\r\n\r\nget.var <- function(vname,df) {\r\n  v <- df[vname] %>% \r\n    st_set_geometry(NULL)\r\n  v <- unname(v[,1])\r\n  return(v)\r\n}\r\n\r\n\r\n\r\nPlotting a percentile map using tmap functions\r\n\r\n\r\npercent <- c(0,.01,.1,.5,.9,.99,1)\r\nvar <- get.var(\"DEPENDENCY\", mpszpop2020a)\r\nbperc <- quantile(var,percent)\r\ntm_shape(mpszpop2020) +\r\n  tm_polygons() +\r\ntm_shape(mpszpop2020a) +\r\n  tm_fill(\"DEPENDENCY\",\r\n          title=\"DEPENDENCY\",\r\n          breaks=bperc,\r\n          palette=\"Blues\",\r\n          labels=c(\"< 1%\", \"1% - 10%\",\r\n                   \"10% - 50%\", \r\n                   \"50% - 90%\",\r\n                   \"90% - 99%\", \r\n                   \"> 99%\"))  +\r\n  tm_borders() +\r\n  tm_layout(title = \"Percentile Map\", \r\n            title.position = c(\"right\",\r\n                               \"bottom\"))\r\n\r\n\r\n\r\n\r\nCreate percentile mapping function\r\n\r\n\r\npercentmap <- function(vnam, df, legtitle=NA, mtitle=\"Percentile Map\"){\r\n  percent <- c(0,.01,.1,.5,.9,.99,1)\r\n  var <- get.var(vnam,df)\r\n  bperc <- quantile(var,percent)\r\n  tm_shape(mpszpop2020) +\r\n  tm_polygons() +\r\n  tm_shape(df) +\r\n     tm_fill(vnam,\r\n             title=legtitle,\r\n             breaks=bperc,\r\n             palette=\"Blues\",\r\n          labels=c(\"< 1%\", \"1% - 10%\", \"10% - 50%\", \"50% - 90%\", \"90% - 99%\", \"> 99%\"))  +\r\n  tm_borders() +\r\n  tm_layout(title = mtitle, title.position = c(\"right\",\"bottom\"))\r\n}\r\n\r\n\r\n\r\nTesting the percentile mapping function\r\n\r\n\r\nyoungmap <- percentmap(\"YOUNG\", mpszpop2020a)\r\nagedmap <- percentmap(\"AGED\", mpszpop2020a)\r\n\r\ntmap_arrange(youngmap, agedmap, asp=1, ncol=2)\r\n\r\n\r\n\r\n\r\nCreating the boxbreaks function\r\n\r\n\r\nboxbreaks <- function(v,mult=1.5) {\r\n  qv <- unname(quantile(v))\r\n  iqr <- qv[4] - qv[2]\r\n  upfence <- qv[4] + mult * iqr\r\n  lofence <- qv[2] - mult * iqr\r\n  # initialize break points vector\r\n  bb <- vector(mode=\"numeric\",length=7)\r\n  # logic for lower and upper fences\r\n  if (lofence < qv[1]) {  # no lower outliers\r\n    bb[1] <- lofence\r\n    bb[2] <- floor(qv[1])\r\n  } else {\r\n    bb[2] <- lofence\r\n    bb[1] <- qv[1]\r\n  }\r\n  if (upfence > qv[5]) { # no upper outliers\r\n    bb[7] <- upfence\r\n    bb[6] <- ceiling(qv[5])\r\n  } else {\r\n    bb[6] <- upfence\r\n    bb[7] <- qv[5]\r\n  }\r\n  bb[3:5] <- qv[2:4]\r\n  return(bb)\r\n}\r\n\r\n\r\n\r\nTest the boxbreak function\r\n\r\n\r\nvar <- get.var(\"AGED\", mpszpop2020a) \r\nboxbreaks(var)\r\n\r\n\r\n[1] -4330     0   515  2080  3745  8590 20240\r\n\r\nCreate the boxmap function\r\n\r\n\r\nboxmap <- function(vnam, df, \r\n                   legtitle=NA,\r\n                   mtitle=\"Box Map\",\r\n                   mult=1.5){\r\n  var <- get.var(vnam,df)\r\n  bb <- boxbreaks(var)\r\n  tm_shape(mpszpop2020) +\r\n    tm_polygons() +\r\n  tm_shape(df) +\r\n     tm_fill(vnam,title=legtitle,\r\n             breaks=bb,\r\n             palette=\"Blues\",\r\n          labels = c(\"lower outlier\", \r\n                     \"< 25%\", \r\n                     \"25% - 50%\", \r\n                     \"50% - 75%\",\r\n                     \"> 75%\", \r\n                     \"upper outlier\"))  +\r\n  tm_borders() +\r\n  tm_layout(title = mtitle, \r\n            title.position = c(\"right\",\r\n                               \"bottom\"))\r\n}\r\n\r\n\r\n\r\nTest the Boxmap function using AGED population\r\n\r\n\r\nboxmap(\"ECONOMY ACTIVE\", mpszpop2020a)\r\n\r\n\r\n\r\n\r\nPlotting Raw Rate Map\r\nPrepare the data\r\n\r\n\r\nmpszpop2020a <- mpszpop2020 %>%\r\n  mutate(`AGED%` = (`AGED`\r\n/`TOTAL`)*100) %>%\r\n  filter(`AGED%` >= 0)\r\n\r\n\r\n\r\nPlot the map\r\n\r\n\r\nvar <- get.var(\"AGED%\", mpszpop2020a)\r\nboxbreaks(var)\r\n\r\n\r\n[1] -2.17276  0.00000 11.28169 16.48199 20.25132 33.70576 95.00000\r\n\r\nboxmap(\"AGED%\",mpszpop2020a)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2021-08-30-in-class-exercise-3/in-class-exercise-3_files/figure-html5/unnamed-chunk-4-1.png",
    "last_modified": "2021-08-31T16:30:10+08:00",
    "input_file": "in-class-exercise-3.knit.md"
  },
  {
    "path": "posts/2021-08-23-in-class-exercise-2/",
    "title": "In-class Exercise 2",
    "description": "In this hands-on exercise, I learnt how to handle geospatial data in R by using sf package",
    "author": [
      {
        "name": "Darryl Kwok",
        "url": "https://example.com/darrylkwok"
      }
    ],
    "date": "2021-08-23",
    "categories": [],
    "contents": "\r\nGetting Started\r\nThis code chunk performs three tasks:\r\ncreate and install a list of R packages needed\r\n\r\n\r\npackages <- c('sf', 'tidyverse')\r\nfor(p in packages) {\r\n  if(!require(p, character.only = T)) {\r\n    install.packages(p)\r\n  }\r\n  library(p, character.only = T)\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": {},
    "last_modified": "2021-08-23T11:23:34+08:00",
    "input_file": {}
  },
  {
    "path": "posts/welcome/",
    "title": "Welcome to IS415 Web Blog",
    "description": "Welcome to our new blog, IS415 Web Blog. We hope you enjoy \nreading what we have to say!",
    "author": [
      {
        "name": "Darryl Kwok",
        "url": "https://example.com/darrylkwok"
      }
    ],
    "date": "2021-08-16",
    "categories": [],
    "contents": "\r\n\r\n\r\n\r\n",
    "preview": {},
    "last_modified": "2021-08-23T09:39:55+08:00",
    "input_file": {}
  }
]
